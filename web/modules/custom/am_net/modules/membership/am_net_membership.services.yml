services:
  am_net_membership.breadcrumb:
    class: Drupal\am_net_membership\Breadcrumb\MembershipBreadcrumbBuilder
    tags:
        - { name: breadcrumb_builder, priority: 100 }

  am_net_membership.checker:
    class: Drupal\am_net_membership\MembershipChecker
    arguments: ['@config.factory', '@entity_type.manager']

  am_net_membership.account_form_display_helper:
    class: Drupal\am_net_membership\AccountFormDisplayHelper

  am_net_membership.cart_event_subscriber:
    class: Drupal\am_net_membership\EventSubscriber\CartEventSubscriber
    arguments: ['@commerce_cart.cart_manager', '@entity_type.manager']
    tags:
      - { name: event_subscriber }

  am_net_membership.order_subscriber:
    class: Drupal\am_net_membership\EventSubscriber\OrderEventSubscriber
    arguments: ['@am_net_membership.checker']
    tags:
      - { name: event_subscriber }

  am_net_membership.route_subscriber:
    class: Drupal\am_net_membership\Routing\RouteSubscriber
    tags:
        - { name: event_subscriber }

  am_net_membership.billing_class_checker_manager:
    class: Drupal\am_net_membership\BillingClass\BillingClassCheckerManager
    tags:
      - { name: service_collector, tag: am_net_membership.billing_class_checker, call: addChecker }
    arguments: [ '@config.factory' ]

  am_net_membership.default_billing_class_checker:
    class: Drupal\am_net_membership\BillingClass\DefaultBillingClassChecker
    tags:
      - { name: am_net_membership.billing_class_checker, am_net_membership.checkerpriority: 10 }

  am_net_membership.payment_plans.manager:
    class: Drupal\am_net_membership\DuesPaymentPlan\DuesPaymentPlanManager
    arguments: ['@keyvalue.database']

  am_net_membership.dues_payment_plan.helper:
    class: Drupal\am_net_membership\DuesPaymentPlan\DuesPaymentPlanHelper
    arguments: []
